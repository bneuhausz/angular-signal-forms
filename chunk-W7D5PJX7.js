import{d as q,e as D}from"./chunk-KO35J3AS.js";import{e as g,f as C,g as F,m as u,p as b,q as _,r as E,s as h,t as A,u as I,v as S}from"./chunk-IKMCLFPA.js";import{$a as l,Ba as n,Db as m,Eb as p,Ma as M,Tb as N,ab as d,c as v,eb as s,fb as r,gb as a,hb as f,na as x,pb as c}from"./chunk-EJRGGYM7.js";function L(t,o){if(t&1&&(r(0,"mat-error"),m(1),a()),t&2){let e=c();n(),p(e.f.firstName().errors()[0].message)}}function P(t,o){if(t&1&&(r(0,"mat-error"),m(1),a()),t&2){let e=c();n(),p(e.f.lastName().errors()[0].message)}}var y=class t{f=F(x({firstName:"",lastName:""}),o=>{C(o.firstName,{request:({value:e})=>e()?`http://localhost:3000/api/validate/first-name/${e()}`:void 0,errors:e=>e.valid?[]:u({kind:"notUnique",message:"First name is not unique"})}),g(o.lastName,{params:({value:e})=>e(),factory:e=>N({params:()=>e(),loader:R=>v(null,[R],function*({params:i}){return i?(yield fetch(`http://localhost:3000/api/validate/last-name/${i}`)).json():void 0})}),errors:e=>e.valid?[]:u({kind:"notUnique",message:"Last name is not unique"})})});static \u0275fac=function(e){return new(e||t)};static \u0275cmp=M({type:t,selectors:[["app-async-form"]],decls:13,vars:5,consts:[["matInput","",3,"control"],["mat-button","","type","button",3,"disabled"]],template:function(e,i){e&1&&(r(0,"form")(1,"mat-form-field")(2,"mat-label"),m(3,"First Name"),a(),f(4,"input",0),l(5,L,2,1,"mat-error"),a(),r(6,"mat-form-field")(7,"mat-label"),m(8,"Last Name"),a(),f(9,"input",0),l(10,P,2,1,"mat-error"),a(),r(11,"button",1),m(12,"Submit"),a()()),e&2&&(n(4),s("control",i.f.firstName),n(),d(i.f.firstName().invalid()?5:-1),n(4),s("control",i.f.lastName),n(),d(i.f.lastName().invalid()?10:-1),n(),s("disabled",i.f().invalid()))},dependencies:[A,h,_,E,S,I,D,q,b],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;margin-top:2rem}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}"]})};export{y as default};
